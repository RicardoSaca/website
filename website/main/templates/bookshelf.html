{% extends 'base.html' %}

{% block title %} Bookshelf {% endblock %}

{% block content %}
<div class="row justify-content-center bio">
    <div class="col-sm-10 text-center">
        <h1>My Personal Bookshelf</h1>
        <p>
            Here are some of the books I have read that have assisted my intellectual growth.
            There is also a wish list of the books I am planning on reading soon. Reach out if you have any recommendations!
        </p>
        <p>
            Take a look at some <a href={{url_for('main.bookshelf_analytics')}}>anayltics of my reading habit growth</a>.
        </p>
    </div>
</div>


{% if books %}
<div class="container fluid mt-3 mb-5">
    <div class="col text-center">
        <h2>Reading</h2>
        <hr>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-3 justify-content-center">
        {% for book in books %}
            {% if book.progress == 'Progress' %}
        <div class="col tex">
            <div class="card mb-3 h-100" style="max-width: 540px;">
                <div class="row g-0">
                    <div class="col-md-4 text-center">
                        <img src="https://covers.openlibrary.org/b/isbn/{{book.isbn}}-M.jpg"
                                class="img-fluid rounded-start" alt="Cover of {{book.title}}">
                                <div class="card-img-overlay text-start">
                                    <i class="fas fa-hourglass-half fa-books" aria-hidden="true"></i>
                                </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title">{{book.title}}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">{{book.author}}</h6>
                            <p class="card-text">{{book.notes}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            {% endif %}
        {% endfor %}
    </div>
</div>

<div class="container fluid mt-3 mb-5">
    <div class="col text-center">
        <h2>Wishlist</h2>
        <hr>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-2 justify-content-center">
        {% for book in books %}
            {% if book.progress == 'Wish' %}
        <div class="col tex">
            <div class="card mb-3 h-100" style="max-width: 540px;">
                <div class="row g-0">
                    <div class="col-md-4 text-center">
                        <img src="https://covers.openlibrary.org/b/isbn/{{book.isbn}}-M.jpg"
                                class="img-fluid rounded-start" alt="Cover of {{book.title}}">
                                <div class="card-img-overlay text-start">
                                    <i class="fas fa-hourglass-start fa-books" aria-hidden="true"></i>
                                </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title">{{book.title}}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">{{book.author}}</h6>
                            <p class="card-text">{{book.notes}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            {% endif %}
        {% endfor %}
    </div>
</div>

{% if years %}
    {% for year in years %}
<div class="container fluid mt-3 mb-5">
    <div class="col text-center">
        <h2>{{ year }}</h2>
        <hr>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-2 justify-content-center">
        {% for book in books %}
            {% if (book.progress == 'Read' or book.progress == 'Favorite') and (book.date_finished.strftime('%Y') == year)%}
            <div class="col tex">
                <div class="card mb-3 h-100" style="max-width: 540px;">
                    <div class="row g-0">
                        <div class="col-sm-12 col-md-4 text-center">
                            <img src="https://covers.openlibrary.org/b/isbn/{{book.isbn}}-M.jpg"
                                    class="img-fluid rounded-start" alt="Cover of {{book.title}}">
                                    <div class="card-img-overlay text-start">
                                        {% if book.progress == 'Favorite' %}
                                        <i class="fas fa-star fa-books" aria-hidden="true"></i>
                                        {% endif %}
                                        {% if book.progress == 'Read' %}
                                        <i class='fas fa-book fa-books' aria-hidden="true"></i>
                                        {% endif %}
                                    </div>
                        </div>
                        <div class="col-sm-12 col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">{{book.title}}</h5>
                                <h6 class="card-subtitle mb-2 text-muted">{{book.author}}</h6>
                                <p class="card-text">{{book.notes}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
    {% endfor %}

{% endif %}
{% endif %}
{% endblock %}

<!-- icons
    fas fa-book : book
    fas fa-star : favorite
    fas fa-hourglass-half : reading
    fas fa-hourglass-start : wish
-->

